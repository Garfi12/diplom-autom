Chitai-gorod
Автоматизированные UI- и API-тесты из финальной работы по ручному тестированию "Тестирование интернет магазина книг “Читай- город”."

Ссылка на финальный проект по тестированию
https://kursovayamax1.yonote.ru/doc/test-plan-proekta-Gr1owBBJn5

Описание проекта
Данный проект содержит набор автоматизированных тестов для интернет-магазина книг "Читай-город". Тесты охватывают как функциональность API, так и пользовательский интерфейс (UI), обеспечивая надежное тестирование различных операций, таких как добавление, обновление и удаление товаров из корзины, а также тестирование функциональности поиска.

Структура проекта
Chitai-gorod │ ├── pages │ ├── Add_To_Cart_api.py │ ├── Add_To_Cart_ui.py │ ├── Delete_From_Cart_api.py │ ├── Delete_From_Cart_ui.py │ ├── Search_By_Author_ui.py │ ├── Search_By_Title_ui.py │ ├── Send_Empty_Post_Request_api.py │ ├── Update_cart_api.py │ └── Wrong_Request_api.py │ ├── tests │ ├── test_api.py │ └── test_ui.py │ ├── constants.py ├── README.md └── .gitignore

Описание классов
pages/: Папка, содержащая классы для работы с API и UI.

AddToCartAPI: Класс для работы с API добавления товара в корзину. Он реализует методы для добавления товаров и взаимодействия с API.
AddToCart: Класс для работы с UI добавления товара в корзину. Он автоматизирует действия пользователя в интерфейсе веб-приложения.
DeleteFromCartAPI: Класс для работы с API удаления товара из корзины. Он реализует методы для удаления товаров через API запросы.
DeleteFromCart: Класс, тестирующий функциональность удаления товара из корзины на сайте Читай-город.
SearchByAuthor: Класс для тестирования поля поиска по автору на сайте Читай-город. Он проверяет, корректно ли работает поиск по имени автора.
SearchByTitle: Класс для тестирования поля поиска по названию книги на сайте Читай-город. Он проверяет, корректно ли работает поиск по названию.
EmptyPostRequest: Класс, тестирующий отправку пустого запроса к API. Он проверяет, как API обрабатывает запросы без данных.
UpdateCartAPI: Класс, который тестирует функциональность обновления товаров в корзине на сайте Читай-город.
WrongRequestAPI: Класс для отправки неверного запроса к API, что позволяет проверить, как система обрабатывает ошибки.
test_api.py: Файл, в котором описаны тесты для API. Здесь тестируются функции, связанные с добавлением, удалением и обновлением товаров в корзине, а также обработка неверных запросов и пустых запросов.

test_ui.py: Файл, в котором описаны тесты для пользовательского интерфейса. Здесь тестируются сценарии, такие как добавление и удаление товаров из корзины через интерфейс, а также проверка функционирования полей поиска.

Технологии
Python
Requests (для выполнения API-запросов)
Allure (для тестирования и отчетности)
Установка
Клонируйте репозиторий: git clone https://github.com/Garfi12?tab=repositories

Перейдите в каталог проекта Chitai-gorod

Настройте переменные окружения. Перед запуском приложения убедитесь, что у вас установлены необходимые переменные окружения.

Получение токена авторизации, ID товара, UserAgent, User ID
Для работы с API вам понадобятся токен авторизации и ID товара:

Откройте инструменты разработчика в вашем браузере (обычно нажатием клавиши F12).
Перейдите на сайт Читай-город и выполните необходимые операции (например, добавление товара в корзину).
На вкладке Network (Сеть) найдите запросы, отправляемые при добавлении товара в корзину.
В заголовках запроса найдите поле Authorization. Скопируйте токен вместе со словом Bearer и вставьте его в файл constants.py -> bearer_token
Чтобы найти ID товара, проверьте параметры запроса или ответ сервера. Обычно это поле id объекта товара. Вставьте его значение в файл test_api.py, функцию test_edit_cart -> items_to_update = [{'id': "здесь найденный ID товара"
Чтобы найти User Agent, в звголовках запрса найти User Agent. Скопировать и вставить его в файл constants.py -> User_Agent
Чтобы найти USer ID, зайти в cookies, и найти gdeslon.ru.user_id и скопировать значение. Добавить его в файл constants.py -> User_ID
Запуск тестов
Запуск тестов API
Чтобы запустить тесты API, используйте следующую команду:

pytest test_api.py --alluredir=allure-results

Запуск тестов UI
Чтобы запустить тесты пользовательского интерфейса, используйте следующую команду:

pytest test_ui.py --alluredir=allure-results

Запуск всех тестов
Чтобы запустить все тесты в проекте, используйте следующую команду:

pytest --alluredir=allure-results

Генерация отчета Allure
Чтобы создать отчет Allure, выполните:

allure serve allure-results

Запуск тестов в Visual Studio Code
Запуск тестов в Visual Studio Code
Для удобства запуска тестов вы также можете использовать интерфейс Visual Studio Code.

Откройте проект: Запустите Visual Studio Code и откройте папку Chitai-gorod с проектом.
Откройте тестовый файл: В панели проводника (Explorer) нажмите вкладку Testing слева и откройте сразу все тесты проекта или отдельно файлы test_api.py и test_ui.py.
Запуск тестов:
Найдите кнопку "Запустить тесты" (Run Tests) в правом верхнем углу редактора (обычно это зелёная кнопка с изображением треугольника или надписью "Run").
Нажмите на эту кнопку, чтобы запустить выбранные тесты.
Просмотр результатов: После завершения тестов результаты будут отображены в панели Терминал или Результаты тестов.

ВАЖНО : обновление токена и ID товара нужно произвести до запуска тестов!!!